<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · EverySingleStreet.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://Wikunia.github.io/EverySingleStreet.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>EverySingleStreet.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/main/docs/src/index.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="EverySingleStreet"><a class="docs-heading-anchor" href="#EverySingleStreet">EverySingleStreet</a><a id="EverySingleStreet-1"></a><a class="docs-heading-anchor-permalink" href="#EverySingleStreet" title="Permalink"></a></h1><p>Documentation for <a href="https://github.com/Wikunia/EverySingleStreet.jl">EverySingleStreet</a>.</p><ul><li><a href="#EverySingleStreet.StreetSegment"><code>EverySingleStreet.StreetSegment</code></a></li><li><a href="#EverySingleStreet.bounded_all_shortest_paths-NTuple{4, Any}"><code>EverySingleStreet.bounded_all_shortest_paths</code></a></li><li><a href="#EverySingleStreet.bounded_dijkstra-NTuple{4, Any}"><code>EverySingleStreet.bounded_dijkstra</code></a></li><li><a href="#EverySingleStreet.calculate_streetpath-NTuple{4, Any}"><code>EverySingleStreet.calculate_streetpath</code></a></li><li><a href="#EverySingleStreet.calculate_walked_parts"><code>EverySingleStreet.calculate_walked_parts</code></a></li><li><a href="#EverySingleStreet.douglas_peucker-Tuple{Vector, Any, Any, Any}"><code>EverySingleStreet.douglas_peucker</code></a></li><li><a href="#EverySingleStreet.download-Tuple{Any, Any}"><code>EverySingleStreet.download</code></a></li><li><a href="#EverySingleStreet.filter_candidates!-Tuple{Any}"><code>EverySingleStreet.filter_candidates!</code></a></li><li><a href="#EverySingleStreet.get_candidate_on_way-Tuple{Any, Any, EverySingleStreet.Way, Any, Any}"><code>EverySingleStreet.get_candidate_on_way</code></a></li><li><a href="#EverySingleStreet.get_candidate_probability-Tuple{EverySingleStreet.Candidate}"><code>EverySingleStreet.get_candidate_probability</code></a></li><li><a href="#EverySingleStreet.get_candidates-Tuple{Any, Any}"><code>EverySingleStreet.get_candidates</code></a></li><li><a href="#EverySingleStreet.get_candidates_from_idx-Tuple{Any, Any}"><code>EverySingleStreet.get_candidates_from_idx</code></a></li><li><a href="#EverySingleStreet.get_districts-Tuple{Nothing}"><code>EverySingleStreet.get_districts</code></a></li><li><a href="#EverySingleStreet.get_first_way_segment-Tuple{Any, EverySingleStreet.Map}"><code>EverySingleStreet.get_first_way_segment</code></a></li><li><a href="#EverySingleStreet.get_interpolation_point-Tuple{Any, Any, Float64}"><code>EverySingleStreet.get_interpolation_point</code></a></li><li><a href="#EverySingleStreet.get_interpolation_val-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}"><code>EverySingleStreet.get_interpolation_val</code></a></li><li><a href="#EverySingleStreet.get_lla-Tuple{Any, Any}"><code>EverySingleStreet.get_lla</code></a></li><li><a href="#EverySingleStreet.get_matching_candidates-NTuple{4, Any}"><code>EverySingleStreet.get_matching_candidates</code></a></li><li><a href="#EverySingleStreet.get_next_node_id-Tuple{EverySingleStreet.Candidate}"><code>EverySingleStreet.get_next_node_id</code></a></li><li><a href="#EverySingleStreet.get_prev_node_id-Tuple{EverySingleStreet.Candidate}"><code>EverySingleStreet.get_prev_node_id</code></a></li><li><a href="#EverySingleStreet.get_segments-NTuple{4, Any}"><code>EverySingleStreet.get_segments</code></a></li><li><a href="#EverySingleStreet.get_shortest_path-Tuple{EverySingleStreet.Map, Any, Any}"><code>EverySingleStreet.get_shortest_path</code></a></li><li><a href="#EverySingleStreet.get_shortest_path-Tuple{EverySingleStreet.BoundedAllShortestPaths, Any, Any}"><code>EverySingleStreet.get_shortest_path</code></a></li><li><a href="#EverySingleStreet.get_way_kdtree-Tuple{Any}"><code>EverySingleStreet.get_way_kdtree</code></a></li><li><a href="#EverySingleStreet.getxy_from_lat_lon-Tuple{Any, Any, Any}"><code>EverySingleStreet.getxy_from_lat_lon</code></a></li><li><a href="#EverySingleStreet.map_nodes_to_district-Tuple{Vector{EverySingleStreet.Node}, Any}"><code>EverySingleStreet.map_nodes_to_district</code></a></li><li><a href="#EverySingleStreet.map_path-Tuple{Any, EverySingleStreet.GPXFile}"><code>EverySingleStreet.map_path</code></a></li><li><a href="#EverySingleStreet.parse_map"><code>EverySingleStreet.parse_map</code></a></li><li><a href="#EverySingleStreet.point_linesegment_distance-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}"><code>EverySingleStreet.point_linesegment_distance</code></a></li><li><a href="#EverySingleStreet.pointlinedistance-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}"><code>EverySingleStreet.pointlinedistance</code></a></li><li><a href="#EverySingleStreet.shortest_candidate_path-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}"><code>EverySingleStreet.shortest_candidate_path</code></a></li><li><a href="#EverySingleStreet.shortest_path_distance-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}"><code>EverySingleStreet.shortest_path_distance</code></a></li><li><a href="#EverySingleStreet.simplify"><code>EverySingleStreet.simplify</code></a></li><li><a href="#EverySingleStreet.transition_probability-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}"><code>EverySingleStreet.transition_probability</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.StreetSegment" href="#EverySingleStreet.StreetSegment"><code>EverySingleStreet.StreetSegment</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct StreetSegment</code></pre><p>A street segment contains of two candidates which have the following property: They are both on the same way and have the same direction.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/types.jl#L73-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.bounded_all_shortest_paths-NTuple{4, Any}" href="#EverySingleStreet.bounded_all_shortest_paths-NTuple{4, Any}"><code>EverySingleStreet.bounded_all_shortest_paths</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bounded_all_shortest_paths(osm_graph, distance, nodeid_to_local, is_walkable_road)</code></pre><p>Call <a href="#EverySingleStreet.bounded_dijkstra-NTuple{4, Any}"><code>bounded_dijkstra</code></a> for all nodes and return a <code>BoundedAllShortestPaths</code> object.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/shortest_path.jl#L38-L42">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.bounded_dijkstra-NTuple{4, Any}" href="#EverySingleStreet.bounded_dijkstra-NTuple{4, Any}"><code>EverySingleStreet.bounded_dijkstra</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bounded_dijkstra(graph, dist_mat, source, distance)</code></pre><p>Compute the shortest distance and the parents on how to get there from the specified source up to distance away. Return distances as a dictionary pointing from destination to shortest distance as well as parents point from destination on how to get there.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/shortest_path.jl#L1-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.calculate_streetpath-NTuple{4, Any}" href="#EverySingleStreet.calculate_streetpath-NTuple{4, Any}"><code>EverySingleStreet.calculate_streetpath</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calculate_streetpath(name, subpath_id, candidates, city_map)</code></pre><p>Generate a <code>StreetPath</code> from a list of candidates obtained by <a href="#EverySingleStreet.map_path-Tuple{Any, EverySingleStreet.GPXFile}"><code>map_path</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L556-L560">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.calculate_walked_parts" href="#EverySingleStreet.calculate_walked_parts"><code>EverySingleStreet.calculate_walked_parts</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">calculate_walked_parts(streetpaths::Vector{StreetPath}, city_ways::Vector{Way}, walked_ways=Dict{Int, WalkedWay}())</code></pre><p>Return <code>WalkedParts</code> given the streetpath segments and the possible ways of the city. Can be added to already existing <code>walked_ways</code>. Filters everything which isn&#39;t a <code>walkable_road</code> inside <code>city_ways</code>.    </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L763-L768">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.douglas_peucker-Tuple{Vector, Any, Any, Any}" href="#EverySingleStreet.douglas_peucker-Tuple{Vector, Any, Any, Any}"><code>EverySingleStreet.douglas_peucker</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Use a non-recursive Douglas-Peucker algorithm to simplify a polygon. Used by <code>simplify()</code>.</p><pre><code class="nohighlight hljs">douglas_peucker(pointlist::Array, start_index, last_index, epsilon)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/utils.jl#L384-L388">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.download-Tuple{Any, Any}" href="#EverySingleStreet.download-Tuple{Any, Any}"><code>EverySingleStreet.download</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">download(place_name, filepath)</code></pre><p>Download the road network of the given place and write it as a json file to the given filepath</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/utils.jl#L2-L6">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.filter_candidates!-Tuple{Any}" href="#EverySingleStreet.filter_candidates!-Tuple{Any}"><code>EverySingleStreet.filter_candidates!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">filter_candidates!(candidates)</code></pre><p>Filter out candidates which are further away than <code>closer_dist</code> if there is at least candidate which is closer than <code>closer_dist</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L162-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_candidate_on_way-Tuple{Any, Any, EverySingleStreet.Way, Any, Any}" href="#EverySingleStreet.get_candidate_on_way-Tuple{Any, Any, EverySingleStreet.Way, Any, Any}"><code>EverySingleStreet.get_candidate_on_way</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_candidate_on_way(city_map, p, way::Way, trans, rev_trans; rev=false)</code></pre><p>Get the best candidate of point <code>p</code> on the given <code>way</code>. <code>trans</code> and <code>rev_trans</code> are transformations mapping from LLA to x,y and back. <code>rev</code> can be set to true to reverse the direction of <code>way</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L71-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_candidate_probability-Tuple{EverySingleStreet.Candidate}" href="#EverySingleStreet.get_candidate_probability-Tuple{EverySingleStreet.Candidate}"><code>EverySingleStreet.get_candidate_probability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_candidate_probability(candidate::Candidate)</code></pre><p>Return the emission probability of the given candidate and the standard deviation of the gps error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L212-L216">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_candidates-Tuple{Any, Any}" href="#EverySingleStreet.get_candidates-Tuple{Any, Any}"><code>EverySingleStreet.get_candidates</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_candidates(map, path)</code></pre><p>Get a list of <a href="@ref"><code>Candidate</code></a> for each gps point in path given the underlying city_map</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L178-L182">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_candidates_from_idx-Tuple{Any, Any}" href="#EverySingleStreet.get_candidates_from_idx-Tuple{Any, Any}"><code>EverySingleStreet.get_candidates_from_idx</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_candidates_from_idx(vec_candidates, candidate_idxs)</code></pre><p>Return candidates from an nested vector of candiates like <code>[[c1,c2],[c3]]</code> and candiate_idxs which are 1d like <code>[1,3]</code> would return <code>[c1, c3]</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L322-L327">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_districts-Tuple{Nothing}" href="#EverySingleStreet.get_districts-Tuple{Nothing}"><code>EverySingleStreet.get_districts</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_districts(geojson_fpath)</code></pre><p>Parse the districts in the given file which needs to have :geometry and :Stadtteil as properties. Return a vector of <a href="@ref"><code>District</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/districts.jl#L26-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_first_way_segment-Tuple{Any, EverySingleStreet.Map}" href="#EverySingleStreet.get_first_way_segment-Tuple{Any, EverySingleStreet.Map}"><code>EverySingleStreet.get_first_way_segment</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_first_way_segment(sp, city_map::Map)</code></pre><p>Return a way that includes the longest first part of the given shortest path  as well as the remaining shortest path which isn&#39;t part of this way. The return format consists of:</p><ul><li>A named tuple describing the best way for the first segment: <code>(way::Way, rev::Bool, from::Int, to::Int)</code></li><li>The remaining shortest path nodes</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/utils.jl#L253-L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_interpolation_point-Tuple{Any, Any, Float64}" href="#EverySingleStreet.get_interpolation_point-Tuple{Any, Any, Float64}"><code>EverySingleStreet.get_interpolation_point</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_interpolation_point(a, b, t::Float64)</code></pre><p>Get the value of <code>a+t*(b-a)</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L37-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_interpolation_val-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}" href="#EverySingleStreet.get_interpolation_val-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}"><code>EverySingleStreet.get_interpolation_val</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_interpolation_val(p::Point2, a::Point2, b::Point2)</code></pre><p>Get an interpolation value of point p between a line segment from a to b where a+t*(b-a) describes the point closes to p. Return p which is between 0 and 1.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L25-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_lla-Tuple{Any, Any}" href="#EverySingleStreet.get_lla-Tuple{Any, Any}"><code>EverySingleStreet.get_lla</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_lla(p, trans)</code></pre><p>Get a LLA formatted position from a point and a Geodesy transformation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L16-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_matching_candidates-NTuple{4, Any}" href="#EverySingleStreet.get_matching_candidates-NTuple{4, Any}"><code>EverySingleStreet.get_matching_candidates</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_matching_candidates(city_map, way_ids, p, origin_lla)</code></pre><p>Get matching candidates for a given point p and a list of possible way ids. Only return candidates which have a maximum_dist (in m) to the way.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L107-L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_next_node_id-Tuple{EverySingleStreet.Candidate}" href="#EverySingleStreet.get_next_node_id-Tuple{EverySingleStreet.Candidate}"><code>EverySingleStreet.get_next_node_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_next_node_id(candidate::Candidate)</code></pre><p>Get the next node id given a candidate. This depends on <code>way_is_reverse</code> of the candidate. Can be used to create a <code>StreetSegment</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L223-L228">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_prev_node_id-Tuple{EverySingleStreet.Candidate}" href="#EverySingleStreet.get_prev_node_id-Tuple{EverySingleStreet.Candidate}"><code>EverySingleStreet.get_prev_node_id</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_prev_node_id(candidate::Candidate)</code></pre><p>Get the previous node id given a candidate. This depends on <code>way_is_reverse</code> of the candidate. Can be used to create a <code>StreetSegment</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L239-L244">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_segments-NTuple{4, Any}" href="#EverySingleStreet.get_segments-NTuple{4, Any}"><code>EverySingleStreet.get_segments</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_segments(city_map, current_candidate, next_candidate, sp)</code></pre><p>Given two candidates which can&#39;t be directly connected and a list of ids which form the shortest path between those candidates this function returns a list of <code>StreetSegment</code> which connect the two candidates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L606-L611">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_shortest_path-Tuple{EverySingleStreet.BoundedAllShortestPaths, Any, Any}" href="#EverySingleStreet.get_shortest_path-Tuple{EverySingleStreet.BoundedAllShortestPaths, Any, Any}"><code>EverySingleStreet.get_shortest_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_shortest_path(bounded_shortest_paths::BoundedAllShortestPaths, from, to)</code></pre><p>Return the same output as <code>a_star(g, from, to, dist_mat)</code> but use the cache from <code>BoundedAllShortestPaths</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/shortest_path.jl#L61-L65">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_shortest_path-Tuple{EverySingleStreet.Map, Any, Any}" href="#EverySingleStreet.get_shortest_path-Tuple{EverySingleStreet.Map, Any, Any}"><code>EverySingleStreet.get_shortest_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_shortest_path(city_map::Map, sp_from_id, sp_to_id)</code></pre><p>Return the shortest path from <code>from</code> to <code>to</code>. Has the same output as <code>shortest_path</code> from the LightOSM package  but uses the <code>BoundedAllShortestPaths</code> cache when it exists.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/shortest_path.jl#L82-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.get_way_kdtree-Tuple{Any}" href="#EverySingleStreet.get_way_kdtree-Tuple{Any}"><code>EverySingleStreet.get_way_kdtree</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_way_kdtree(city_map)</code></pre><p>Create a KDTree for all ways in the given city map. Return</p><ol><li>a mapping from id to the way id</li><li>the kd tree</li><li>The radius for a reasonable in range search (51% of the longest line between two nodes)</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L130-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.getxy_from_lat_lon-Tuple{Any, Any, Any}" href="#EverySingleStreet.getxy_from_lat_lon-Tuple{Any, Any, Any}"><code>EverySingleStreet.getxy_from_lat_lon</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">getxy_from_lat_lon(lat, lon, trans)</code></pre><p>Return x, y position coordinates from lat and lon given a Geodesy trensformation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.map_nodes_to_district-Tuple{Vector{EverySingleStreet.Node}, Any}" href="#EverySingleStreet.map_nodes_to_district-Tuple{Vector{EverySingleStreet.Node}, Any}"><code>EverySingleStreet.map_nodes_to_district</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">map_nodes_to_district(nodes::Vector{Node}, geojson_fpath)</code></pre><p>Return a vector of district names (as Symbol) that points each <a href="@ref"><code>Node</code></a> to its respective district</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/districts.jl#L88-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.map_path-Tuple{Any, EverySingleStreet.GPXFile}" href="#EverySingleStreet.map_path-Tuple{Any, EverySingleStreet.GPXFile}"><code>EverySingleStreet.map_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">map_path(city_map, gpxfile)</code></pre><p>Map a path of gps points to the best matching candidates for the path.</p><ol><li>Filter out points on the path which are closer together than 25m</li><li>Compute candidates for each point in the remaining path</li><li>Compute emission probabilties</li><li>Compute transition_probabilities</li><li>Use the Viterbi algorithm to compute the most likely path of the candidates</li></ol><p>Return a list of lists of candidates as a path might not continously have candidates. Then it&#39;s split up into several parts.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L464-L474">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.parse_map" href="#EverySingleStreet.parse_map"><code>EverySingleStreet.parse_map</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">parse_map(fpath)</code></pre><p>Return a <a href="@ref"><code>Map</code></a> object from the given json file path that was created using the <a href="#EverySingleStreet.download-Tuple{Any, Any}"><code>download</code></a> function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/utils.jl#L120-L124">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.point_linesegment_distance-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}" href="#EverySingleStreet.point_linesegment_distance-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}"><code>EverySingleStreet.point_linesegment_distance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">point_linesegment_distance(p::Point2, a::Point2, b::Point2)</code></pre><p>Get the smallest distance between point <code>p</code> and the line segment from <code>a</code> to <code>b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L44-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.pointlinedistance-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}" href="#EverySingleStreet.pointlinedistance-Tuple{GeometryBasics.Point2, GeometryBasics.Point2, GeometryBasics.Point2}"><code>EverySingleStreet.pointlinedistance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">pointlinedistance(p::Point2, a::Point2, b::Point2)</code></pre><p>Find the distance between a point <code>p</code> and a line between two points <code>a</code> and <code>b</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/utils.jl#L447-L451">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.shortest_candidate_path-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}" href="#EverySingleStreet.shortest_candidate_path-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}"><code>EverySingleStreet.shortest_candidate_path</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shortest_candidate_path(from::Candidate, to::Candidate, city_map)</code></pre><p>Return the shortest path as node ids from one candidate to another given a city map.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L255-L259">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.shortest_path_distance-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}" href="#EverySingleStreet.shortest_path_distance-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}"><code>EverySingleStreet.shortest_path_distance</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shortest_path_distance(from::Candidate, to::Candidate, city_map)</code></pre><p>Return the shortest path distance based on equation (9) in the <a href="https://www.tandfonline.com/doi/pdf/10.1080/13658816.2017.1400548?casa_token=RrxNeRXfRfkAAAAA:2IA6z4Pu-tKEcSaK44AUgQxDc-XUCBs8CSZI1qGNbUj6CpUMyA8suDUpnZ1WO3lHEUFuk1lk3s4wJtM">fmm paper</a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L281-L285">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.simplify" href="#EverySingleStreet.simplify"><code>EverySingleStreet.simplify</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Simplify a polygon:</p><pre><code class="nohighlight hljs">simplify(pointlist::Array, detail=0.1)</code></pre><p><code>detail</code> is the maximum approximation error of simplified polygon.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/utils.jl#L421-L427">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="EverySingleStreet.transition_probability-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}" href="#EverySingleStreet.transition_probability-Tuple{EverySingleStreet.Candidate, EverySingleStreet.Candidate, Any}"><code>EverySingleStreet.transition_probability</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">transition_probability(from::Candidate, to::Candidate, city_map)</code></pre><p>Return the transition<em>probability based on equation 10 in the  [fmm paper](https://www.tandfonline.com/doi/pdf/10.1080/13658816.2017.1400548?casa</em>token=RrxNeRXfRfkAAAAA:2IA6z4Pu-tKEcSaK44AUgQxDc-XUCBs8CSZI1qGNbUj6CpUMyA8suDUpnZ1WO3lHEUFuk1lk3s4wJtM)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Wikunia/EverySingleStreet.jl/blob/9748e986dfe0d006d26b5ddc40acfab650cee048/src/calculations.jl#L307-L311">source</a></section></article></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.23 on <span class="colophon-date" title="Sunday 21 January 2024 14:41">Sunday 21 January 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
